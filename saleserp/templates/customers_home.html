{% extends 'base.html' %}

{% block content %}

    
{% if user.is_authenticated %}

<div class="container text-center">
  <div class="row row-cols-auto">
    <div class="col-1"><h1>Hello world</h1>
      <a href="{% url 'add_customer_record' %}">Add Customer</a></div>
    <div class="col-9">
      <h1>Customers</h1>
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th scope="col">Customer ID</th>
          <th scope="col">First Name</th>
          <th scope="col">Middle Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Gender</th>
          <th scope="col">Age</th>
          <th scope="col">Mobile Number</th>
          <th scope="col">Address</th>
          <th scope="col">Occupation</th>
          <th scope="col">Date Created</th>
          <th scope="col">Date Updated</th>
        </tr>
      </thead>
      <tbody>

    {% if customers %}
        {% for customer in customers %}
        <tr>
          <td><a href=" {% url 'customer_record' customer.customer_id%} ">{{customer.customer_id}}</a></td>
          <td>{{customer.firstname}}</td>
          <td>{{customer.middle_name}}</td>
          <td>{{customer.lastname}}</td>
          <td>{{customer.gender}}</td>
          <td>{{customer.age}}</td>
          <td>{{customer.mobile_number}}</td>
          <td>{{customer.address}}</td>
          <td>{{customer.occupation}}</td>
          <td>{{customer.creation_date}}</td>
          <td>{{customer.last_updated}}</td>
        </tr>
        {% endfor %}
    {% endif %}
    </tr>
    </tbody>
    </table>
    </div>
  </div>
</div>
{% else %}

    <h1>Login</h1>
    <br>
    <form method="POST" action="{% url 'home' %}">
        {% csrf_token %}
        <form>
            <div class="mb-3">
              <input type="text" class="form-control" name="username", placeholder="Username" required>
            </div>
            <div class="mb-3">
              <input type="password" class="form-control" name="password", placeholder="Password" required>
            </div>
            <button type="submit" class="btn btn-secondary">Login</button>
          </form>
    </form>


{% endif %}

{% endblock %}